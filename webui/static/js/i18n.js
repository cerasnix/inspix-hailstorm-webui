window.I18n = (() => {
  const strings = {
    en: {
      "nav.overview": "Overview",
      "nav.search": "Search",
      "nav.masterdata": "Masterdata",
      "nav.searchPlaceholder": "Search label, type, or crc",
      "footer.tagline": "Local tools, local data.",
      "home.heroEyebrow": "Manifest cockpit",
      "home.heroTitle": "Pull, decrypt, parse. All in one place.",
      "home.heroSubtitle":
        "Launch updates, conversions, and masterdata builds without leaving the browser. Everything runs on your local cache.",
      "home.browseCatalog": "Browse catalog",
      "home.status": "Status",
      "home.statusVersion": "Version",
      "home.statusCatalog": "Catalog",
      "home.statusDb": "DB Entries",
      "home.statusPlain": "Plain Cache",
      "home.statusAssets": "Raw Cache",
      "home.statusMaster": "Masterdata",
      "home.runTask": "Run a task",
      "home.queue": "Queue",
      "home.taskMode": "Mode",
      "home.taskOption.update": "Update (download + parse)",
      "home.taskOption.dbonly": "Update DB only",
      "home.taskOption.catalog": "Catalog only (snapshot)",
      "home.taskOption.convert": "Convert (decrypt existing)",
      "home.taskOption.master": "Masterdata (parse existing)",
      "home.taskOption.analyze": "Analyze only",
      "home.taskClientVersion": "Client Version",
      "home.taskClientVersionPlaceholder": "Optional",
      "home.taskClientVersionHelp":
        "Leave blank to use runtime config (then auto-detect if missing).",
      "home.taskResInfo": "Resource Info",
      "home.taskResInfoPlaceholder": "Optional",
      "home.taskResInfoHelp":
        "Leave blank to use runtime config (then login auto-fetch if missing).",
      "home.taskFilterRegex": "Filter Regex",
      "home.taskFilterRegexPlaceholder": "e.g. bgm_.*",
      "home.taskFilterRegexHelp": "Only download assets that match the regex.",
      "home.forceUpdate": "Force update",
      "home.keepRaw": "Keep raw cache",
      "home.keepRawDesc": "Preserve cache/assets instead of deleting after decrypt.",
      "home.keepPath": "Keep download path",
      "home.keepPathDesc": "Keep original folder structure under cache/assets.",
      "home.startTask": "Start task",
      "home.taskLog": "Task log",
      "home.clearLog": "Clear",
      "home.quickFilters": "Quick filters",
      "home.filterMedia": "Media",
      "home.filterCharacter": "Character",
      "home.recentTasks": "Recent tasks",
      "home.noTasks": "No tasks yet.",
      "home.noTaskStarted": "No task started.",
      "home.statusReady": "Ready",
      "home.statusMissing": "Missing",
      "home.statusUpdated": "Updated",
      "home.statusIdle": "Idle",
      "home.statusCatalogUpdated": "Catalog updated {{time}}",
      "home.statusCatalogMissing": "Catalog not loaded.",
      "home.statusFailed": "Failed to load status.",
      "home.taskDesc.update":
        "Download manifest and assets, decrypt to cache/plain, parse masterdata.",
      "home.taskDesc.dbonly":
        "Download and parse database assets only (tsv).",
      "home.taskDesc.catalog":
        "Fetch and parse catalog by client version/resource info, then save version snapshot only (no asset download).",
      "home.taskDesc.convert":
        "Skip download; decrypt cache/assets to cache/plain.",
      "home.taskDesc.master":
        "Parse existing cache/plain tsv into masterdata.",
      "home.taskDesc.analyze": "Run structure analysis only.",
      "search.eyebrow": "Catalog",
      "search.title": "Search results",
      "search.searchPlaceholder": "Search...",
      "search.searchButton": "Search",
      "search.clear": "Clear",
      "search.field.all": "All fields",
      "search.field.label": "Label",
      "search.field.type": "Type",
      "search.field.deps": "Dependencies",
      "search.field.content": "Content types",
      "search.field.categories": "Categories",
      "search.field.realname": "Real name",
      "search.typeLabel": "Type",
      "search.sort": "Sort",
      "search.sortSize": "Size",
      "search.sortModified": "Modified time",
      "search.modifiedShort": "Modified",
      "search.order": "Order",
      "search.perPage": "Per page",
      "search.diffFrom": "Diff from",
      "search.diffTo": "Diff to",
      "search.diffApply": "Apply diff",
      "search.diffDisabled": "Diff off",
      "search.diffLoading": "Diff...",
      "search.diffFailed": "Diff error",
      "search.diffUnavailable": "No versions",
      "search.diffUnchanged": "Unchanged",
      "search.diffMissing": "Missing",
      "search.diffStatus": "Diff status",
      "search.diffStatusAll": "All",
      "search.diffStatusUnchanged": "Unchanged",
      "search.diffStatusModified": "Modified",
      "search.diffStatusAdded": "Added",
      "search.diffStatusRemoved": "Removed",
      "search.view": "View",
      "search.view.grid": "Grid",
      "search.view.list": "List",
      "search.all": "All",
      "search.asc": "Ascending",
      "search.desc": "Descending",
      "search.entries": "{{count}} entries",
      "search.loading": "Loading catalog...",
      "search.failed": "Failed to load catalog.",
      "search.open": "Open",
      "search.pagePrev": "Prev",
      "search.pageNext": "Next",
      "search.diffProgressIdle": "Diff is idle.",
      "search.diffProgressPrepare": "Preparing diff lookup...",
      "search.diffProgressLoading": "Loading diff statuses {{loaded}} / {{total}}",
      "search.diffProgressFiltering": "Filtering {{loaded}} / {{total}}",
      "search.diffProgressDone": "Diff ready. Cached {{count}} labels.",
      "search.diffProgressPartial":
        "Diff ready with partial failures ({{failed}} batch).",
      "search.diffProgressCancelled": "Diff task cancelled.",
      "search.diffSummaryDisabled": "Diff not applied.",
      "search.diffSummaryPending": "Diff cache pending (0 / {{total}}).",
      "search.diffSummaryEmpty": "No entries in current result.",
      "search.diffSummary":
        "Diff cache {{known}} / {{total}} · unchanged {{unchanged}} · modified {{modified}} · added {{added}} · removed {{removed}} · missing {{missing}} · error {{error}}",
      "search.filterTags": "Tags",
      "filters.media.image": "Image",
      "filters.media.video": "Video",
      "filters.media.audio": "Audio",
      "filters.media.model": "3D/Model",
      "filters.media.motion": "Motion",
      "filters.media.story": "Story/Text",
      "filters.media.chart": "Charts/Data",
      "filters.tag.skill": "Skill",
      "filters.tag.middle": "Middle",
      "filters.tag.full": "Full",
      "filters.tag.half": "Half",
      "filters.tag.season": "Season",
      "filters.tag.adv": "Adv",
      "filters.character.sachi": "Sachi",
      "filters.character.kaho": "Kaho",
      "filters.character.sayaka": "Sayaka",
      "filters.character.tsuzuri": "Tsuzuri",
      "filters.character.megumi": "Megumi",
      "filters.character.ginko": "Ginko",
      "filters.character.rurino": "Rurino",
      "filters.character.kozue": "Kozue",
      "filters.character.kosuzu": "Kosuzu",
      "filters.character.hime": "Hime",
      "filters.character.ceras": "Ceras",
      "filters.character.izumi": "Izumi",
      "filters.character.tsukasa": "Tsukasa",
      "filters.character.hiromi": "Hiromi",
      "view.metadata": "Metadata",
      "view.label": "Label",
      "view.resource": "Resource",
      "view.size": "Size",
      "view.checksum": "Checksum",
      "view.seed": "Seed",
      "view.priority": "Priority",
      "view.raw": "Raw",
      "view.plain": "Plain",
      "view.yaml": "YAML",
      "view.files": "Files",
      "view.referencedBy": "Referenced by",
      "view.loadingParents": "Loading...",
      "view.noParents": "No parent references.",
      "view.preview": "Preview",
      "view.dependencies": "Dependencies",
      "view.contentTypes": "Content types",
      "view.categories": "Categories",
      "view.downloadRaw": "Download raw",
      "view.downloadPlain": "Download plain",
      "view.downloadYaml": "Download YAML",
      "view.exportPreview": "Refresh Preview",
      "view.available": "Available",
      "view.missing": "Missing",
      "view.previewNotAvailable": "Preview not available.",
      "view.previewNotGenerated":
        "Preview not generated yet. Click Refresh Preview to export.",
      "view.previewNotSupported": "Preview not supported.",
      "view.exportFailed": "Export failed.",
      "view.exporting": "Exporting...",
      "view.exportCanceled": "Export canceled.",
      "view.exportTimeout": "Export timed out.",
      "view.exportNotConfigured": "Export not configured.",
      "view.derivedPreview": "Derived preview",
      "view.exportPhaseIdle": "Idle",
      "view.exportPhaseWorking": "Working...",
      "view.exportPhaseQueued": "Queued",
      "view.exportPhasePrepare": "Preparing source files",
      "view.exportPhaseProbe": "Inspecting streams",
      "view.exportPhaseProbeStreams": "Detected {{count}} stream(s)",
      "view.exportPhaseAudio": "Preparing companion audio",
      "view.exportPhaseDecode": "Decoding audio",
      "view.exportPhaseEncode": "Encoding output",
      "view.exportPhaseRemux": "Remuxing video",
      "view.exportPhaseTranscode": "Transcoding media",
      "view.exportPhaseTrack": "Processing {{track}}",
      "view.exportPhaseFinalize": "Finalizing preview",
      "view.exportPhaseCached": "Using cached preview",
      "view.exportPhaseDone": "Preview is ready",
      "view.previewConfigAssetbundle":
        "Assetbundle export: set assetRipperDir in webui/config/config.json. Fallback: export ASSETRIPPER_DIR=/path/to/AssetRipper",
      "view.previewConfigService":
        "Inspix-hailstorm will start AssetRipper headless and call its export API.",
      "view.previewConfigAcb":
        "ACB audio preview: require vgmstream-cli + ffmpeg in PATH.",
      "view.previewConfigUsm":
        "USM video preview: require ffmpeg in PATH (auto transcode to MP4).",
      "view.previewConfigUsmAudio":
        "USM usually has no audio; preview MP4 will try companion bgm_live_*.acb as audio source when available.",
      "view.previewConfigCache": "Outputs cached under cache/webui-preview.",
      "view.previewConfigReadme": "Detailed steps in",
      "view.versionDiff": "Version diff",
      "view.diffFrom": "From version",
      "view.diffTo": "To version",
      "view.diffCompare": "Compare",
      "view.diffReady": "Select two versions to compare this entry.",
      "view.diffNeedVersions": "Select versions first.",
      "view.diffNeedDifferent": "Please select two different versions.",
      "view.diffLoading": "Loading diff...",
      "view.diffFailed": "Failed to load diff.",
      "view.diffUnavailable": "Version diff is unavailable.",
      "view.diffWaitingEntry": "Entry is loading...",
      "view.diffUnchanged": "Unchanged",
      "view.diffMissing": "Missing in both versions",
      "view.failedLoad": "Failed to load entry.",
      "view.outputDir": "Output:",
      "view.trackLabel": "Track {{index}}",
      "view.audioFormat": "Format: {{type}}",
      "view.audioFormatUnknown": "Format: unknown",
      "view.prefabSummary": "Prefab summary",
      "view.prefabBundle": "Bundle",
      "view.prefabPreviewItems": "Preview items",
      "view.prefabAssetsTotal": "Assets",
      "view.prefabDependencies": "Dependencies",
      "view.prefabDependencyList": "Dependency list",
      "view.prefabRootObjects": "Root objects",
      "view.prefabAssetGroups": "Asset groups",
      "view.prefabNoDependencies": "No dependencies.",
      "view.prefabNoMedia": "No previewable media in this prefab export.",
      "view.prefabItem": "Item",
      "view.prefabPrimary": "Primary preview",
      "view.prefabPrimaryShow": "Show original preview",
      "view.prefabPrimaryHide": "Hide original preview",
      "view.prefabHierarchy": "Component hierarchy",
      "view.prefabHierarchyUnavailable": "Hierarchy data is unavailable.",
      "view.prefabHierarchySummary":
        "Nodes {{rendered}} / {{total}} · roots {{roots}} · max depth {{depth}}",
      "view.prefabHierarchyTruncated":
        "Hierarchy is truncated for performance (node limit reached).",
      "view.prefabNodeUnnamed": "Unnamed node",
      "view.prefabComp.Transform": "Transform",
      "view.prefabComp.MeshRenderer": "MeshRenderer",
      "view.prefabComp.SkinnedMeshRenderer": "SkinnedMeshRenderer",
      "view.prefabComp.Skin": "Skin",
      "view.prefabComp.Camera": "Camera",
      "view.prefabComp.BlendShape": "BlendShape",
      "view.prefabComp.Collider": "Collider",
      "view.prefabComp.Light": "Light",
      "view.prefabComp.Bone": "Bone",
      "view.prefabComp.Position": "Position",
      "view.prefabComp.Rotation": "Rotation",
      "view.prefabComp.Scale": "Scale",
      "view.prefabAssemblyTitle": "Assembled model preview",
      "view.prefabAssemblyHint":
        "Toggle model parts to inspect the combined prefab body.",
      "view.prefabAssemblyNoComponents":
        "No renderable model parts were found in current dependency cache.",
      "view.prefabAssemblyLoading": "Loading components {{loaded}} / {{total}}...",
      "view.prefabAssemblyReady": "Assembly ready: {{count}} component(s).",
      "view.prefabAssemblyPartial":
        "Assembly loaded partially: {{loaded}} / {{total}} component(s).",
      "view.prefabAssemblyFailed": "Failed to load assembled components.",
      "view.prefabAssemblyFromSelf": "Self",
      "view.prefabAssemblyFromDependency": "Dependency",
      "view.prefabAssemblyMissingDeps":
        "{{count}} dependency item(s) were not found locally.",
      "view.prefabAssemblyPending":
        "{{count}} dependency item(s) need preview export before full assembly.",
      "view.prefabAssemblyPrepareButton": "Prepare missing ({{count}})",
      "view.prefabAssemblyPreparing":
        "Preparing {{index}}/{{total}}: {{label}}",
      "view.prefabAssemblyPrepareDone":
        "Missing components prepared, refreshing assembly...",
      "view.prefabAssemblyPrepareFailed":
        "Failed to prepare {{count}} dependency item(s).",
      "view.prefabAssemblyPrepareNoTask":
        "Failed to start dependency prepare task.",
      "view.prefabAssemblyPendingDetecting":
        "Checking dependency preview readiness...",
      "view.prefabAssemblyTextureHint":
        "Detected {{count}} texture candidate(s) from dependency chain.",
      "view.prefabAssemblyTextureMissing":
        "{{count}} texture dependency item(s) are missing locally.",
      "view.prefabAssemblyTexturePending":
        "{{count}} texture dependency item(s) are waiting for preview export.",
      "view.prefabPoseLabel": "Pose preset",
      "view.prefabPoseApply": "Apply pose",
      "view.prefabPoseReset": "Reset pose",
      "view.prefabPoseIdle": "Idle stance",
      "view.prefabPoseA": "A-pose",
      "view.prefabPoseT": "T-pose",
      "view.prefabPoseHandsUp": "Hands up",
      "view.prefabRigDetecting": "Detecting skeleton data...",
      "view.prefabRigNone": "No skeleton was detected in loaded components.",
      "view.prefabRigHumanoid":
        "{{skeletons}} skeleton(s) · {{bones}} bones · {{mapped}} mapped humanoid joints.",
      "view.prefabRigGeneric":
        "{{skeletons}} skeleton(s) · {{bones}} bones · {{mapped}} recognizable joints.",
      "view.prefabRigPoseUnavailable":
        "Current preset cannot be applied to this rig.",
      "view.prefabAssemblyExportButton": "Export assembly GLB",
      "view.prefabAssemblyExportIdle": "Assembly export idle",
      "view.prefabAssemblyExportPrepare": "Preparing assembled scene",
      "view.prefabAssemblyExportCollect": "Collecting visible components",
      "view.prefabAssemblyExportEncode": "Encoding GLB",
      "view.prefabAssemblyExportCache": "Saving local cache",
      "view.prefabAssemblyExportCached": "Using local cached GLB",
      "view.prefabAssemblyExportDone": "Assembly GLB is ready",
      "view.prefabAssemblyExportFailed": "Assembly export failed.",
      "view.prefabAssemblyExportNoVisible":
        "No visible model component is enabled.",
      "view.modelReset": "Reset view",
      "view.modelContrastOff": "High contrast",
      "view.modelContrastOn": "Normal contrast",
      "master.eyebrow": "Masterdata",
      "master.title": "Parsed YAML library",
      "master.subtitle": "Browse generated YAML files from masterdata.",
      "master.filter": "Filter",
      "master.files": "Files",
      "master.preview": "Preview",
      "master.download": "Download",
      "master.loading": "Loading files...",
      "master.noFiles": "No files found.",
      "master.selectFile": "Select a file.",
      "master.failedLoad": "Failed to load file.",
      "master.failedList": "Failed to load masterdata.",
      "master.diffTitle": "Catalog diff by version",
      "master.diffReload": "Reload versions",
      "master.fromVersion": "From version",
      "master.toVersion": "To version",
      "master.diffStatus": "Status",
      "master.diffStatusAll": "All",
      "master.diffStatusModified": "Modified",
      "master.diffStatusAdded": "Added",
      "master.diffStatusRemoved": "Removed",
      "master.diffFilter": "Label filter",
      "master.diffFilterPlaceholder": "Search label/type/real name",
      "master.diffCompare": "Compare",
      "master.currentTag": "current",
      "master.diffNoVersions": "No versions",
      "master.diffNeedMoreVersions": "Need at least two versions to compare.",
      "master.diffReady": "Choose two versions and click Compare.",
      "master.diffSelectVersions": "Select versions first.",
      "master.diffNeedDifferentVersions": "Please choose two different versions.",
      "master.diffLoadingVersions": "Loading versions...",
      "master.diffLoading": "Loading diff...",
      "master.diffFailedVersions": "Failed to load version list.",
      "master.diffFailed": "Failed to load diff.",
      "master.diffEmpty": "No diff data.",
      "master.diffNoMatch": "No matching items.",
      "master.diffLoaded": "Showing {{count}} items (total {{total}}).",
      "master.diffTruncated":
        "Showing first {{limit}} items (total changes {{total}}).",
      "master.diffTotal": "Total",
      "master.diffModified": "Modified",
      "master.diffAdded": "Added",
      "master.diffRemoved": "Removed",
      "master.diffStatus.modified": "Modified",
      "master.diffStatus.added": "Added",
      "master.diffStatus.removed": "Removed",
      "master.diffStatus.unknown": "Unknown",
      "preview.export": "Refresh Preview",
    },
    zh: {
      "nav.overview": "概览",
      "nav.search": "检索",
      "nav.masterdata": "主数据",
      "nav.searchPlaceholder": "搜索 Label/Type/CRC",
      "footer.tagline": "本地工具，本地数据。",
      "home.heroEyebrow": "资源控制台",
      "home.heroTitle": "下载、解密、解析，一站完成。",
      "home.heroSubtitle":
        "在浏览器里完成更新、转换与主数据生成，所有数据都在本地缓存中运行。",
      "home.browseCatalog": "浏览资源",
      "home.status": "状态",
      "home.statusVersion": "版本",
      "home.statusCatalog": "清单",
      "home.statusDb": "DB 条目",
      "home.statusPlain": "解密缓存",
      "home.statusAssets": "原始缓存",
      "home.statusMaster": "主数据",
      "home.runTask": "运行任务",
      "home.queue": "队列",
      "home.taskMode": "模式",
      "home.taskOption.update": "更新（下载 + 解析）",
      "home.taskOption.dbonly": "仅更新数据库",
      "home.taskOption.catalog": "仅清单（快照）",
      "home.taskOption.convert": "转换（解密已有资源）",
      "home.taskOption.master": "主数据（解析已有）",
      "home.taskOption.analyze": "仅分析",
      "home.taskClientVersion": "客户端版本",
      "home.taskClientVersionPlaceholder": "可留空",
      "home.taskClientVersionHelp": "留空时优先读取本地运行配置，不存在则自动获取。",
      "home.taskResInfo": "资源信息",
      "home.taskResInfoPlaceholder": "可留空",
      "home.taskResInfoHelp": "留空时优先读取本地运行配置，不存在则登录自动获取。",
      "home.taskFilterRegex": "过滤正则",
      "home.taskFilterRegexPlaceholder": "例如 bgm_.*",
      "home.taskFilterRegexHelp": "仅下载匹配正则的资源。",
      "home.forceUpdate": "强制更新",
      "home.keepRaw": "保留原始缓存",
      "home.keepRawDesc": "解密后不清理 cache/assets 原始文件。",
      "home.keepPath": "保留下载路径",
      "home.keepPathDesc": "保持 cache/assets 的原始目录结构。",
      "home.startTask": "开始任务",
      "home.taskLog": "任务日志",
      "home.clearLog": "清空",
      "home.quickFilters": "快捷筛选",
      "home.filterMedia": "资源类型",
      "home.filterCharacter": "角色",
      "home.recentTasks": "最近任务",
      "home.noTasks": "暂无任务。",
      "home.noTaskStarted": "尚未开始任务。",
      "home.statusReady": "已就绪",
      "home.statusMissing": "缺失",
      "home.statusUpdated": "已更新",
      "home.statusIdle": "空闲",
      "home.statusCatalogUpdated": "清单更新于 {{time}}",
      "home.statusCatalogMissing": "尚未加载清单。",
      "home.statusFailed": "状态加载失败。",
      "home.taskDesc.update": "下载清单与资源，解密至 cache/plain，并解析主数据。",
      "home.taskDesc.dbonly": "仅下载并解析数据库资源（tsv）。",
      "home.taskDesc.catalog":
        "根据客户端版本和资源信息拉取并解析清单，仅保存版本快照（不下载资源）。",
      "home.taskDesc.convert": "不下载，直接解密 cache/assets 到 cache/plain。",
      "home.taskDesc.master": "解析 cache/plain 中的 tsv 生成主数据。",
      "home.taskDesc.analyze": "仅运行结构分析。",
      "search.eyebrow": "资源库",
      "search.title": "搜索结果",
      "search.searchPlaceholder": "搜索...",
      "search.searchButton": "搜索",
      "search.clear": "清除",
      "search.field.all": "全部字段",
      "search.field.label": "Label",
      "search.field.type": "Type",
      "search.field.deps": "依赖",
      "search.field.content": "内容类型",
      "search.field.categories": "分类",
      "search.field.realname": "真实文件名",
      "search.typeLabel": "类型",
      "search.sort": "排序",
      "search.sortSize": "大小",
      "search.sortModified": "修改时间",
      "search.modifiedShort": "修改",
      "search.order": "顺序",
      "search.perPage": "每页数量",
      "search.diffFrom": "对比起始版本",
      "search.diffTo": "对比目标版本",
      "search.diffApply": "开始对比",
      "search.diffDisabled": "未启用",
      "search.diffLoading": "对比中...",
      "search.diffFailed": "对比失败",
      "search.diffUnavailable": "无可用版本",
      "search.diffUnchanged": "未变化",
      "search.diffMissing": "缺失",
      "search.diffStatus": "差异状态",
      "search.diffStatusAll": "全部",
      "search.diffStatusUnchanged": "未变化",
      "search.diffStatusModified": "修改",
      "search.diffStatusAdded": "新增",
      "search.diffStatusRemoved": "删除",
      "search.view": "视图",
      "search.view.grid": "矩阵",
      "search.view.list": "列表",
      "search.all": "全部",
      "search.asc": "升序",
      "search.desc": "降序",
      "search.entries": "{{count}} 条结果",
      "search.loading": "正在加载清单...",
      "search.failed": "加载清单失败。",
      "search.open": "打开",
      "search.pagePrev": "上一页",
      "search.pageNext": "下一页",
      "search.diffProgressIdle": "对比任务空闲。",
      "search.diffProgressPrepare": "正在准备差异查询...",
      "search.diffProgressLoading": "正在加载差异状态 {{loaded}} / {{total}}",
      "search.diffProgressFiltering": "正在筛选 {{loaded}} / {{total}}",
      "search.diffProgressDone": "对比就绪，已缓存 {{count}} 个条目。",
      "search.diffProgressPartial": "对比已完成，但有部分批次失败（{{failed}} 批）。",
      "search.diffProgressCancelled": "对比任务已取消。",
      "search.diffSummaryDisabled": "尚未应用版本对比。",
      "search.diffSummaryPending": "差异缓存准备中（0 / {{total}}）。",
      "search.diffSummaryEmpty": "当前结果为空。",
      "search.diffSummary":
        "差异缓存 {{known}} / {{total}} · 未变化 {{unchanged}} · 修改 {{modified}} · 新增 {{added}} · 删除 {{removed}} · 缺失 {{missing}} · 错误 {{error}}",
      "search.filterTags": "标签",
      "filters.media.image": "图片",
      "filters.media.video": "视频",
      "filters.media.audio": "音频",
      "filters.media.model": "3D/模型",
      "filters.media.motion": "动作/动画",
      "filters.media.story": "剧情/文本",
      "filters.media.chart": "谱面/数据",
      "filters.tag.skill": "Skill",
      "filters.tag.middle": "Middle",
      "filters.tag.full": "Full",
      "filters.tag.half": "Half",
      "filters.tag.season": "Season",
      "filters.tag.adv": "Adv",
      "filters.character.sachi": "Sachi",
      "filters.character.kaho": "Kaho",
      "filters.character.sayaka": "Sayaka",
      "filters.character.tsuzuri": "Tsuzuri",
      "filters.character.megumi": "Megumi",
      "filters.character.ginko": "Ginko",
      "filters.character.rurino": "Rurino",
      "filters.character.kozue": "Kozue",
      "filters.character.kosuzu": "Kosuzu",
      "filters.character.hime": "Hime",
      "filters.character.ceras": "Ceras",
      "filters.character.izumi": "Izumi",
      "filters.character.tsukasa": "Tsukasa",
      "filters.character.hiromi": "Hiromi",
      "view.metadata": "元数据",
      "view.label": "Label",
      "view.resource": "资源",
      "view.size": "大小",
      "view.checksum": "校验",
      "view.seed": "Seed",
      "view.priority": "优先级",
      "view.raw": "原始",
      "view.plain": "解密",
      "view.yaml": "YAML",
      "view.files": "文件",
      "view.referencedBy": "被引用于",
      "view.loadingParents": "加载中...",
      "view.noParents": "暂无父级引用。",
      "view.preview": "预览",
      "view.dependencies": "依赖",
      "view.contentTypes": "内容类型",
      "view.categories": "分类",
      "view.downloadRaw": "下载原始文件",
      "view.downloadPlain": "下载解密文件",
      "view.downloadYaml": "下载 YAML",
      "view.exportPreview": "刷新预览",
      "view.available": "可用",
      "view.missing": "缺失",
      "view.previewNotAvailable": "无法预览。",
      "view.previewNotGenerated":
        "尚未生成预览，请点击“刷新预览”开始导出。",
      "view.previewNotSupported": "不支持预览。",
      "view.exportFailed": "导出失败。",
      "view.exporting": "导出中...",
      "view.exportCanceled": "导出已取消。",
      "view.exportTimeout": "导出超时。",
      "view.exportNotConfigured": "未配置导出。",
      "view.derivedPreview": "派生预览",
      "view.exportPhaseIdle": "空闲",
      "view.exportPhaseWorking": "处理中...",
      "view.exportPhaseQueued": "已排队",
      "view.exportPhasePrepare": "正在准备源文件",
      "view.exportPhaseProbe": "正在探测流信息",
      "view.exportPhaseProbeStreams": "检测到 {{count}} 条流",
      "view.exportPhaseAudio": "正在准备伴随音轨",
      "view.exportPhaseDecode": "正在解码音频",
      "view.exportPhaseEncode": "正在编码输出",
      "view.exportPhaseRemux": "正在封装视频",
      "view.exportPhaseTranscode": "正在转码媒体",
      "view.exportPhaseTrack": "正在处理 {{track}}",
      "view.exportPhaseFinalize": "正在完成预览",
      "view.exportPhaseCached": "使用缓存预览",
      "view.exportPhaseDone": "预览已就绪",
      "view.previewConfigAssetbundle":
        "Assetbundle 导出：请先在 webui/config/config.json 里设置 assetRipperDir。回退方式：export ASSETRIPPER_DIR=/path/to/AssetRipper",
      "view.previewConfigService":
        "Inspix-hailstorm 会以 headless 模式启动 AssetRipper 并自动调用导出接口。",
      "view.previewConfigAcb":
        "ACB 预览：需要 vgmstream-cli 与 ffmpeg 可执行文件在 PATH 中。",
      "view.previewConfigUsm":
        "USM 预览：需要 ffmpeg 在 PATH 中（会自动转码为 MP4）。",
      "view.previewConfigUsmAudio":
        "USM 通常不含音轨；预览 MP4 会在可用时尝试使用对应的 bgm_live_*.acb 作为音频来源。",
      "view.previewConfigCache": "输出缓存于 cache/webui-preview。",
      "view.previewConfigReadme": "详细步骤参考",
      "view.versionDiff": "版本差异",
      "view.diffFrom": "起始版本",
      "view.diffTo": "目标版本",
      "view.diffCompare": "开始对比",
      "view.diffReady": "请选择两个版本对比当前资源。",
      "view.diffNeedVersions": "请先选择版本。",
      "view.diffNeedDifferent": "请使用两个不同版本。",
      "view.diffLoading": "正在加载差异...",
      "view.diffFailed": "差异加载失败。",
      "view.diffUnavailable": "当前无法使用版本差异。",
      "view.diffWaitingEntry": "资源加载中...",
      "view.diffUnchanged": "未变化",
      "view.diffMissing": "两个版本都不存在",
      "view.failedLoad": "加载条目失败。",
      "view.outputDir": "输出目录：",
      "view.trackLabel": "轨道 {{index}}",
      "view.audioFormat": "格式：{{type}}",
      "view.audioFormatUnknown": "格式：未知",
      "view.prefabSummary": "Prefab 摘要",
      "view.prefabBundle": "资源包",
      "view.prefabPreviewItems": "预览项",
      "view.prefabAssetsTotal": "资产数",
      "view.prefabDependencies": "依赖数",
      "view.prefabDependencyList": "依赖清单",
      "view.prefabRootObjects": "根对象",
      "view.prefabAssetGroups": "资产分组",
      "view.prefabNoDependencies": "无依赖项。",
      "view.prefabNoMedia": "当前 prefab 导出中没有可预览媒体。",
      "view.prefabItem": "项目",
      "view.prefabPrimary": "主预览",
      "view.prefabPrimaryShow": "显示原模型预览",
      "view.prefabPrimaryHide": "隐藏原模型预览",
      "view.prefabHierarchy": "组件层级",
      "view.prefabHierarchyUnavailable": "暂无可用层级数据。",
      "view.prefabHierarchySummary":
        "节点 {{rendered}} / {{total}} · 根节点 {{roots}} · 最大深度 {{depth}}",
      "view.prefabHierarchyTruncated":
        "为保证性能，层级树已截断（达到节点上限）。",
      "view.prefabNodeUnnamed": "未命名节点",
      "view.prefabComp.Transform": "Transform",
      "view.prefabComp.MeshRenderer": "网格渲染器",
      "view.prefabComp.SkinnedMeshRenderer": "蒙皮网格渲染器",
      "view.prefabComp.Skin": "骨骼蒙皮",
      "view.prefabComp.Camera": "相机",
      "view.prefabComp.BlendShape": "BlendShape",
      "view.prefabComp.Collider": "碰撞体",
      "view.prefabComp.Light": "灯光",
      "view.prefabComp.Bone": "骨骼",
      "view.prefabComp.Position": "位移",
      "view.prefabComp.Rotation": "旋转",
      "view.prefabComp.Scale": "缩放",
      "view.prefabAssemblyTitle": "组合模型预览",
      "view.prefabAssemblyHint": "可切换部件，查看组合后的 prefab 模型。",
      "view.prefabAssemblyNoComponents": "当前依赖缓存中未找到可渲染模型部件。",
      "view.prefabAssemblyLoading": "正在加载组件 {{loaded}} / {{total}}...",
      "view.prefabAssemblyReady": "组合预览就绪：{{count}} 个组件。",
      "view.prefabAssemblyPartial": "组合预览部分可用：{{loaded}} / {{total}} 个组件。",
      "view.prefabAssemblyFailed": "组合组件加载失败。",
      "view.prefabAssemblyFromSelf": "本体",
      "view.prefabAssemblyFromDependency": "依赖",
      "view.prefabAssemblyMissingDeps": "有 {{count}} 个依赖项未在本地找到。",
      "view.prefabAssemblyPending":
        "有 {{count}} 个依赖尚未导出预览，暂无法纳入完整组合。",
      "view.prefabAssemblyPrepareButton": "准备缺失组件（{{count}}）",
      "view.prefabAssemblyPreparing":
        "正在准备 {{index}}/{{total}}：{{label}}",
      "view.prefabAssemblyPrepareDone":
        "缺失组件已准备完成，正在刷新组合预览...",
      "view.prefabAssemblyPrepareFailed":
        "有 {{count}} 个依赖项准备失败。",
      "view.prefabAssemblyPrepareNoTask":
        "未能启动依赖准备任务。",
      "view.prefabAssemblyPendingDetecting":
        "正在检测依赖预览状态...",
      "view.prefabAssemblyTextureHint":
        "从依赖链检测到 {{count}} 个贴图候选。",
      "view.prefabAssemblyTextureMissing":
        "有 {{count}} 个贴图依赖项未在本地找到。",
      "view.prefabAssemblyTexturePending":
        "有 {{count}} 个贴图依赖项尚未导出预览，将自动准备。",
      "view.prefabPoseLabel": "姿势预设",
      "view.prefabPoseApply": "应用姿势",
      "view.prefabPoseReset": "重置姿势",
      "view.prefabPoseIdle": "站立待机",
      "view.prefabPoseA": "A-Pose",
      "view.prefabPoseT": "T-Pose",
      "view.prefabPoseHandsUp": "举手姿势",
      "view.prefabRigDetecting": "正在识别骨骼数据...",
      "view.prefabRigNone": "已加载组件中未检测到骨骼。",
      "view.prefabRigHumanoid": "{{skeletons}} 套骨架 · {{bones}} 根骨骼 · {{mapped}} 个人形映射关节。",
      "view.prefabRigGeneric": "{{skeletons}} 套骨架 · {{bones}} 根骨骼 · {{mapped}} 个可识别关节。",
      "view.prefabRigPoseUnavailable": "当前预设无法应用到该骨架。",
      "view.prefabAssemblyExportButton": "导出组合 GLB",
      "view.prefabAssemblyExportIdle": "组合导出空闲",
      "view.prefabAssemblyExportPrepare": "正在准备组合场景",
      "view.prefabAssemblyExportCollect": "正在收集可见组件",
      "view.prefabAssemblyExportEncode": "正在编码 GLB",
      "view.prefabAssemblyExportCache": "正在写入本地缓存",
      "view.prefabAssemblyExportCached": "使用本地缓存 GLB",
      "view.prefabAssemblyExportDone": "组合 GLB 已就绪",
      "view.prefabAssemblyExportFailed": "组合导出失败。",
      "view.prefabAssemblyExportNoVisible": "当前没有启用可见模型组件。",
      "view.modelReset": "重置视角",
      "view.modelContrastOff": "高对比",
      "view.modelContrastOn": "普通对比",
      "master.eyebrow": "主数据",
      "master.title": "主数据 YAML",
      "master.subtitle": "浏览已生成的主数据 YAML 文件。",
      "master.filter": "过滤",
      "master.files": "文件",
      "master.preview": "预览",
      "master.download": "下载",
      "master.loading": "正在加载文件...",
      "master.noFiles": "未找到文件。",
      "master.selectFile": "请选择文件。",
      "master.failedLoad": "加载文件失败。",
      "master.failedList": "加载主数据失败。",
      "master.diffTitle": "按版本查看目录差异",
      "master.diffReload": "刷新版本",
      "master.fromVersion": "起始版本",
      "master.toVersion": "目标版本",
      "master.diffStatus": "状态",
      "master.diffStatusAll": "全部",
      "master.diffStatusModified": "修改",
      "master.diffStatusAdded": "新增",
      "master.diffStatusRemoved": "删除",
      "master.diffFilter": "Label 过滤",
      "master.diffFilterPlaceholder": "搜索 label/type/真实文件名",
      "master.diffCompare": "开始对比",
      "master.currentTag": "当前",
      "master.diffNoVersions": "暂无版本",
      "master.diffNeedMoreVersions": "至少需要两个版本才能对比。",
      "master.diffReady": "请选择两个版本并点击“开始对比”。",
      "master.diffSelectVersions": "请先选择版本。",
      "master.diffNeedDifferentVersions": "请使用两个不同版本。",
      "master.diffLoadingVersions": "正在加载版本...",
      "master.diffLoading": "正在加载差异...",
      "master.diffFailedVersions": "版本列表加载失败。",
      "master.diffFailed": "差异加载失败。",
      "master.diffEmpty": "暂无差异数据。",
      "master.diffNoMatch": "没有匹配项。",
      "master.diffLoaded": "显示 {{count}} 条（总计 {{total}}）。",
      "master.diffTruncated": "仅显示前 {{limit}} 条（总变更 {{total}}）。",
      "master.diffTotal": "总计",
      "master.diffModified": "修改",
      "master.diffAdded": "新增",
      "master.diffRemoved": "删除",
      "master.diffStatus.modified": "修改",
      "master.diffStatus.added": "新增",
      "master.diffStatus.removed": "删除",
      "master.diffStatus.unknown": "未知",
      "preview.export": "刷新预览",
    },
    ja: {
      "nav.overview": "概要",
      "nav.search": "検索",
      "nav.masterdata": "マスターデータ",
      "nav.searchPlaceholder": "Label/Type/CRC を検索",
      "footer.tagline": "ローカルツール、ローカルデータ。",
      "home.heroEyebrow": "マニフェスト制御",
      "home.heroTitle": "取得・復号・解析を一箇所で。",
      "home.heroSubtitle":
        "ブラウザから更新・変換・マスターデータ生成を実行。すべてローカルキャッシュで動作します。",
      "home.browseCatalog": "カタログを見る",
      "home.status": "状態",
      "home.statusVersion": "バージョン",
      "home.statusCatalog": "カタログ",
      "home.statusDb": "DB 件数",
      "home.statusPlain": "復号キャッシュ",
      "home.statusAssets": "生キャッシュ",
      "home.statusMaster": "マスターデータ",
      "home.runTask": "タスク実行",
      "home.queue": "キュー",
      "home.taskMode": "モード",
      "home.taskOption.update": "更新（ダウンロード + 解析）",
      "home.taskOption.dbonly": "DB のみ更新",
      "home.taskOption.catalog": "カタログのみ（スナップショット）",
      "home.taskOption.convert": "変換（既存の復号）",
      "home.taskOption.master": "マスターデータ（既存解析）",
      "home.taskOption.analyze": "解析のみ",
      "home.taskClientVersion": "クライアント版本",
      "home.taskClientVersionPlaceholder": "任意",
      "home.taskClientVersionHelp":
        "空欄の場合は実行設定を優先し、未設定なら自動取得します。",
      "home.taskResInfo": "リソース情報",
      "home.taskResInfoPlaceholder": "任意",
      "home.taskResInfoHelp":
        "空欄の場合は実行設定を優先し、未設定ならログインで自動取得します。",
      "home.taskFilterRegex": "フィルタ正規表現",
      "home.taskFilterRegexPlaceholder": "例: bgm_.*",
      "home.taskFilterRegexHelp": "一致した資産のみをダウンロードします。",
      "home.forceUpdate": "強制更新",
      "home.keepRaw": "生キャッシュを保持",
      "home.keepRawDesc": "復号後も cache/assets を削除しません。",
      "home.keepPath": "ダウンロード経路を保持",
      "home.keepPathDesc": "cache/assets の元ディレクトリ構造を保持します。",
      "home.startTask": "タスク開始",
      "home.taskLog": "タスクログ",
      "home.clearLog": "クリア",
      "home.quickFilters": "クイックフィルター",
      "home.filterMedia": "種類",
      "home.filterCharacter": "キャラクター",
      "home.recentTasks": "最近のタスク",
      "home.noTasks": "タスクはありません。",
      "home.noTaskStarted": "まだタスクが開始されていません。",
      "home.statusReady": "準備完了",
      "home.statusMissing": "不足",
      "home.statusUpdated": "更新済み",
      "home.statusIdle": "待機中",
      "home.statusCatalogUpdated": "カタログ更新: {{time}}",
      "home.statusCatalogMissing": "カタログが読み込まれていません。",
      "home.statusFailed": "状態の取得に失敗しました。",
      "home.taskDesc.update":
        "マニフェストと資産を取得し、cache/plain に復号してマスターデータを解析します。",
      "home.taskDesc.dbonly": "DB 資産（tsv）のみ取得して解析します。",
      "home.taskDesc.catalog":
        "クライアントバージョン/リソース情報でカタログを取得・解析し、バージョンスナップショットのみ保存します（資産は未取得）。",
      "home.taskDesc.convert":
        "ダウンロードせず、cache/assets を cache/plain に復号します。",
      "home.taskDesc.master": "cache/plain の tsv を解析してマスターデータを生成します。",
      "home.taskDesc.analyze": "構造解析のみ実行します。",
      "search.eyebrow": "カタログ",
      "search.title": "検索結果",
      "search.searchPlaceholder": "検索...",
      "search.searchButton": "検索",
      "search.clear": "クリア",
      "search.field.all": "全フィールド",
      "search.field.label": "Label",
      "search.field.type": "Type",
      "search.field.deps": "依存関係",
      "search.field.content": "コンテンツタイプ",
      "search.field.categories": "カテゴリ",
      "search.field.realname": "実ファイル名",
      "search.typeLabel": "タイプ",
      "search.sort": "並び替え",
      "search.sortSize": "サイズ",
      "search.sortModified": "更新時刻",
      "search.modifiedShort": "更新",
      "search.order": "順序",
      "search.perPage": "件数/ページ",
      "search.diffFrom": "比較元",
      "search.diffTo": "比較先",
      "search.diffApply": "比較を適用",
      "search.diffDisabled": "無効",
      "search.diffLoading": "比較中...",
      "search.diffFailed": "比較失敗",
      "search.diffUnavailable": "バージョンなし",
      "search.diffUnchanged": "変更なし",
      "search.diffMissing": "未検出",
      "search.diffStatus": "差分状態",
      "search.diffStatusAll": "すべて",
      "search.diffStatusUnchanged": "変更なし",
      "search.diffStatusModified": "変更",
      "search.diffStatusAdded": "追加",
      "search.diffStatusRemoved": "削除",
      "search.view": "表示",
      "search.view.grid": "グリッド",
      "search.view.list": "リスト",
      "search.all": "すべて",
      "search.asc": "昇順",
      "search.desc": "降順",
      "search.entries": "{{count}} 件",
      "search.loading": "カタログを読み込み中...",
      "search.failed": "カタログの読み込みに失敗しました。",
      "search.open": "開く",
      "search.pagePrev": "前へ",
      "search.pageNext": "次へ",
      "search.diffProgressIdle": "比較タスクは待機中です。",
      "search.diffProgressPrepare": "差分照合を準備中...",
      "search.diffProgressLoading": "差分状態を読み込み中 {{loaded}} / {{total}}",
      "search.diffProgressFiltering": "絞り込み中 {{loaded}} / {{total}}",
      "search.diffProgressDone": "比較準備完了。{{count}} 件をキャッシュしました。",
      "search.diffProgressPartial":
        "比較は完了しましたが一部バッチに失敗しました（{{failed}}件）。",
      "search.diffProgressCancelled": "比較タスクはキャンセルされました。",
      "search.diffSummaryDisabled": "比較は未適用です。",
      "search.diffSummaryPending": "差分キャッシュ準備中（0 / {{total}}）。",
      "search.diffSummaryEmpty": "現在の結果は空です。",
      "search.diffSummary":
        "差分キャッシュ {{known}} / {{total}} ・ 変更なし {{unchanged}} ・ 変更 {{modified}} ・ 追加 {{added}} ・ 削除 {{removed}} ・ 未検出 {{missing}} ・ エラー {{error}}",
      "search.filterTags": "タグ",
      "filters.media.image": "画像",
      "filters.media.video": "動画",
      "filters.media.audio": "音声",
      "filters.media.model": "3D/モデル",
      "filters.media.motion": "モーション",
      "filters.media.story": "ストーリー/テキスト",
      "filters.media.chart": "譜面/データ",
      "filters.tag.skill": "Skill",
      "filters.tag.middle": "Middle",
      "filters.tag.full": "Full",
      "filters.tag.half": "Half",
      "filters.tag.season": "Season",
      "filters.tag.adv": "Adv",
      "filters.character.sachi": "Sachi",
      "filters.character.kaho": "Kaho",
      "filters.character.sayaka": "Sayaka",
      "filters.character.tsuzuri": "Tsuzuri",
      "filters.character.megumi": "Megumi",
      "filters.character.ginko": "Ginko",
      "filters.character.rurino": "Rurino",
      "filters.character.kozue": "Kozue",
      "filters.character.kosuzu": "Kosuzu",
      "filters.character.hime": "Hime",
      "filters.character.ceras": "Ceras",
      "filters.character.izumi": "Izumi",
      "filters.character.tsukasa": "Tsukasa",
      "filters.character.hiromi": "Hiromi",
      "view.metadata": "メタデータ",
      "view.label": "Label",
      "view.resource": "リソース",
      "view.size": "サイズ",
      "view.checksum": "チェックサム",
      "view.seed": "Seed",
      "view.priority": "優先度",
      "view.raw": "Raw",
      "view.plain": "Plain",
      "view.yaml": "YAML",
      "view.files": "ファイル",
      "view.referencedBy": "参照元",
      "view.loadingParents": "読み込み中...",
      "view.noParents": "親参照はありません。",
      "view.preview": "プレビュー",
      "view.dependencies": "依存関係",
      "view.contentTypes": "コンテンツタイプ",
      "view.categories": "カテゴリ",
      "view.downloadRaw": "生データをダウンロード",
      "view.downloadPlain": "復号データをダウンロード",
      "view.downloadYaml": "YAML をダウンロード",
      "view.exportPreview": "プレビューを更新",
      "view.available": "あり",
      "view.missing": "なし",
      "view.previewNotAvailable": "プレビューできません。",
      "view.previewNotGenerated":
        "プレビュー未生成です。プレビュー更新を押してエクスポートしてください。",
      "view.previewNotSupported": "プレビュー未対応です。",
      "view.exportFailed": "エクスポートに失敗しました。",
      "view.exporting": "エクスポート中...",
      "view.exportCanceled": "エクスポートは中止されました。",
      "view.exportTimeout": "エクスポートがタイムアウトしました。",
      "view.exportNotConfigured": "エクスポート未設定。",
      "view.derivedPreview": "派生プレビュー",
      "view.exportPhaseIdle": "待機中",
      "view.exportPhaseWorking": "処理中...",
      "view.exportPhaseQueued": "キュー待ち",
      "view.exportPhasePrepare": "ソースを準備中",
      "view.exportPhaseProbe": "ストリームを解析中",
      "view.exportPhaseProbeStreams": "{{count}} ストリームを検出",
      "view.exportPhaseAudio": "補助音声を準備中",
      "view.exportPhaseDecode": "音声をデコード中",
      "view.exportPhaseEncode": "出力をエンコード中",
      "view.exportPhaseRemux": "動画を再MUX中",
      "view.exportPhaseTranscode": "メディアを変換中",
      "view.exportPhaseTrack": "{{track}} を処理中",
      "view.exportPhaseFinalize": "プレビューを仕上げ中",
      "view.exportPhaseCached": "キャッシュ済みプレビューを使用",
      "view.exportPhaseDone": "プレビューの準備ができました",
      "view.previewConfigAssetbundle":
        "Assetbundle エクスポート：まず webui/config/config.json の assetRipperDir を設定してください。フォールバック: export ASSETRIPPER_DIR=/path/to/AssetRipper",
      "view.previewConfigService":
        "Inspix-hailstorm が AssetRipper を headless で起動し、エクスポート API を呼び出します。",
      "view.previewConfigAcb":
        "ACB プレビュー：vgmstream-cli と ffmpeg を PATH に配置してください。",
      "view.previewConfigUsm":
        "USM プレビュー：ffmpeg を PATH に配置してください（MP4 へ自動変換）。",
      "view.previewConfigUsmAudio":
        "USM は通常音声を含まないため、プレビュー MP4 は利用可能な場合に対応する bgm_live_*.acb を音声ソースとして使用します。",
      "view.previewConfigCache": "出力は cache/webui-preview に保存されます。",
      "view.previewConfigReadme": "詳細は",
      "view.versionDiff": "バージョン差分",
      "view.diffFrom": "比較元",
      "view.diffTo": "比較先",
      "view.diffCompare": "比較する",
      "view.diffReady": "このエントリを比較する 2 つのバージョンを選択してください。",
      "view.diffNeedVersions": "先にバージョンを選択してください。",
      "view.diffNeedDifferent": "異なる 2 つのバージョンを選択してください。",
      "view.diffLoading": "差分を読み込み中...",
      "view.diffFailed": "差分の読み込みに失敗しました。",
      "view.diffUnavailable": "バージョン差分は利用できません。",
      "view.diffWaitingEntry": "エントリを読み込み中...",
      "view.diffUnchanged": "変更なし",
      "view.diffMissing": "両方のバージョンに存在しません",
      "view.failedLoad": "エントリの読み込みに失敗しました。",
      "view.outputDir": "出力先:",
      "view.trackLabel": "トラック {{index}}",
      "view.audioFormat": "形式: {{type}}",
      "view.audioFormatUnknown": "形式: 不明",
      "view.prefabSummary": "Prefab 概要",
      "view.prefabBundle": "バンドル",
      "view.prefabPreviewItems": "プレビュー項目",
      "view.prefabAssetsTotal": "アセット数",
      "view.prefabDependencies": "依存数",
      "view.prefabDependencyList": "依存リスト",
      "view.prefabRootObjects": "ルートオブジェクト",
      "view.prefabAssetGroups": "アセット分類",
      "view.prefabNoDependencies": "依存はありません。",
      "view.prefabNoMedia": "この prefab 出力にはプレビュー可能なメディアがありません。",
      "view.prefabItem": "項目",
      "view.prefabPrimary": "メインプレビュー",
      "view.prefabPrimaryShow": "元モデルのプレビューを表示",
      "view.prefabPrimaryHide": "元モデルのプレビューを隠す",
      "view.prefabHierarchy": "コンポーネント階層",
      "view.prefabHierarchyUnavailable": "階層データは利用できません。",
      "view.prefabHierarchySummary":
        "ノード {{rendered}} / {{total}} · ルート {{roots}} · 最大深さ {{depth}}",
      "view.prefabHierarchyTruncated":
        "パフォーマンスのため階層は一部省略されています（上限到達）。",
      "view.prefabNodeUnnamed": "名称未設定ノード",
      "view.prefabComp.Transform": "Transform",
      "view.prefabComp.MeshRenderer": "MeshRenderer",
      "view.prefabComp.SkinnedMeshRenderer": "SkinnedMeshRenderer",
      "view.prefabComp.Skin": "Skin",
      "view.prefabComp.Camera": "Camera",
      "view.prefabComp.BlendShape": "BlendShape",
      "view.prefabComp.Collider": "Collider",
      "view.prefabComp.Light": "Light",
      "view.prefabComp.Bone": "Bone",
      "view.prefabComp.Position": "Position",
      "view.prefabComp.Rotation": "Rotation",
      "view.prefabComp.Scale": "Scale",
      "view.prefabAssemblyTitle": "組み合わせモデルプレビュー",
      "view.prefabAssemblyHint":
        "パーツを切り替えて、結合された prefab モデルを確認できます。",
      "view.prefabAssemblyNoComponents":
        "現在の依存キャッシュに描画可能なモデルパーツがありません。",
      "view.prefabAssemblyLoading":
        "コンポーネントを読み込み中 {{loaded}} / {{total}}...",
      "view.prefabAssemblyReady":
        "組み合わせプレビュー準備完了: {{count}} コンポーネント。",
      "view.prefabAssemblyPartial":
        "一部のみ読み込み完了: {{loaded}} / {{total}} コンポーネント。",
      "view.prefabAssemblyFailed": "組み合わせコンポーネントの読み込みに失敗しました。",
      "view.prefabAssemblyFromSelf": "本体",
      "view.prefabAssemblyFromDependency": "依存",
      "view.prefabAssemblyMissingDeps":
        "ローカルに見つからない依存項目が {{count}} 件あります。",
      "view.prefabAssemblyPending":
        "完全な組み合わせには {{count}} 件の依存プレビュー書き出しが必要です。",
      "view.prefabAssemblyPrepareButton": "不足分を準備 ({{count}})",
      "view.prefabAssemblyPreparing":
        "{{index}}/{{total}} を準備中: {{label}}",
      "view.prefabAssemblyPrepareDone":
        "不足コンポーネントの準備が完了しました。再読み込みします...",
      "view.prefabAssemblyPrepareFailed":
        "{{count}} 件の依存準備に失敗しました。",
      "view.prefabAssemblyPrepareNoTask":
        "依存準備タスクを開始できませんでした。",
      "view.prefabAssemblyPendingDetecting":
        "依存プレビューの状態を確認中...",
      "view.prefabAssemblyTextureHint":
        "依存チェーンから {{count}} 件のテクスチャ候補を検出しました。",
      "view.prefabAssemblyTextureMissing":
        "ローカルに存在しないテクスチャ依存が {{count}} 件あります。",
      "view.prefabAssemblyTexturePending":
        "{{count}} 件のテクスチャ依存はプレビュー書き出し待ちです。",
      "view.prefabPoseLabel": "ポーズプリセット",
      "view.prefabPoseApply": "ポーズ適用",
      "view.prefabPoseReset": "ポーズをリセット",
      "view.prefabPoseIdle": "待機ポーズ",
      "view.prefabPoseA": "Aポーズ",
      "view.prefabPoseT": "Tポーズ",
      "view.prefabPoseHandsUp": "両手を上げる",
      "view.prefabRigDetecting": "スケルトンを解析中...",
      "view.prefabRigNone": "読み込まれたコンポーネントにスケルトンがありません。",
      "view.prefabRigHumanoid":
        "{{skeletons}} 体のスケルトン · {{bones}} 本のボーン · 人型マップ {{mapped}} 関節。",
      "view.prefabRigGeneric":
        "{{skeletons}} 体のスケルトン · {{bones}} 本のボーン · 認識関節 {{mapped}}。",
      "view.prefabRigPoseUnavailable":
        "このスケルトンには現在のプリセットを適用できません。",
      "view.prefabAssemblyExportButton": "組み合わせ GLB を書き出し",
      "view.prefabAssemblyExportIdle": "組み合わせ書き出し待機中",
      "view.prefabAssemblyExportPrepare": "組み合わせシーンを準備中",
      "view.prefabAssemblyExportCollect": "可視コンポーネントを収集中",
      "view.prefabAssemblyExportEncode": "GLB をエンコード中",
      "view.prefabAssemblyExportCache": "ローカルキャッシュを保存中",
      "view.prefabAssemblyExportCached": "ローカルキャッシュ済み GLB を使用",
      "view.prefabAssemblyExportDone": "組み合わせ GLB の準備完了",
      "view.prefabAssemblyExportFailed": "組み合わせ書き出しに失敗しました。",
      "view.prefabAssemblyExportNoVisible":
        "表示中のモデルコンポーネントがありません。",
      "view.modelReset": "視点リセット",
      "view.modelContrastOff": "高コントラスト",
      "view.modelContrastOn": "通常コントラスト",
      "master.eyebrow": "マスターデータ",
      "master.title": "マスターデータ YAML",
      "master.subtitle": "生成済みの YAML ファイルを閲覧します。",
      "master.filter": "フィルター",
      "master.files": "ファイル",
      "master.preview": "プレビュー",
      "master.download": "ダウンロード",
      "master.loading": "ファイルを読み込み中...",
      "master.noFiles": "ファイルがありません。",
      "master.selectFile": "ファイルを選択してください。",
      "master.failedLoad": "ファイルの読み込みに失敗しました。",
      "master.failedList": "マスターデータの読み込みに失敗しました。",
      "master.diffTitle": "バージョン別カタログ差分",
      "master.diffReload": "バージョン再読込",
      "master.fromVersion": "比較元バージョン",
      "master.toVersion": "比較先バージョン",
      "master.diffStatus": "状態",
      "master.diffStatusAll": "すべて",
      "master.diffStatusModified": "変更",
      "master.diffStatusAdded": "追加",
      "master.diffStatusRemoved": "削除",
      "master.diffFilter": "Label フィルター",
      "master.diffFilterPlaceholder": "label/type/実ファイル名で検索",
      "master.diffCompare": "比較する",
      "master.currentTag": "現在",
      "master.diffNoVersions": "バージョンなし",
      "master.diffNeedMoreVersions": "比較には 2 つ以上のバージョンが必要です。",
      "master.diffReady": "2 つのバージョンを選び、比較を実行してください。",
      "master.diffSelectVersions": "先にバージョンを選択してください。",
      "master.diffNeedDifferentVersions": "異なる 2 つのバージョンを選択してください。",
      "master.diffLoadingVersions": "バージョンを読み込み中...",
      "master.diffLoading": "差分を読み込み中...",
      "master.diffFailedVersions": "バージョン一覧の読み込みに失敗しました。",
      "master.diffFailed": "差分の読み込みに失敗しました。",
      "master.diffEmpty": "差分データがありません。",
      "master.diffNoMatch": "一致する項目がありません。",
      "master.diffLoaded": "{{count}} 件を表示中（合計 {{total}} 件）。",
      "master.diffTruncated":
        "先頭 {{limit}} 件のみ表示中（合計変更 {{total}} 件）。",
      "master.diffTotal": "合計",
      "master.diffModified": "変更",
      "master.diffAdded": "追加",
      "master.diffRemoved": "削除",
      "master.diffStatus.modified": "変更",
      "master.diffStatus.added": "追加",
      "master.diffStatus.removed": "削除",
      "master.diffStatus.unknown": "不明",
      "preview.export": "プレビューを更新",
    },
  };

  let lang = "en";

  function normalizeLang(value) {
    if (!value) {
      return "en";
    }
    const lowered = value.toLowerCase();
    if (lowered.startsWith("zh")) {
      return "zh";
    }
    if (lowered.startsWith("ja")) {
      return "ja";
    }
    return "en";
  }

  function detectLang() {
    const params = new URLSearchParams(window.location.search);
    const fromUrl = params.get("lang");
    if (fromUrl) {
      return normalizeLang(fromUrl);
    }
    const stored = localStorage.getItem("hailstorm-lang");
    if (stored) {
      return normalizeLang(stored);
    }
    return normalizeLang(navigator.language || "en");
  }

  function setLang(value) {
    lang = normalizeLang(value);
    localStorage.setItem("hailstorm-lang", lang);
    document.documentElement.setAttribute("lang", lang);
  }

  function t(key, vars) {
    const dictionary = strings[lang] || strings.en;
    let text = dictionary[key] || strings.en[key] || key;
    if (vars) {
      Object.entries(vars).forEach(([name, value]) => {
        text = text.replaceAll(`{{${name}}}`, value);
      });
    }
    return text;
  }

  function apply(root = document) {
    root.querySelectorAll("[data-i18n]").forEach((node) => {
      node.textContent = t(node.dataset.i18n);
    });
    root.querySelectorAll("[data-i18n-placeholder]").forEach((node) => {
      node.setAttribute("placeholder", t(node.dataset.i18nPlaceholder));
    });
    root.querySelectorAll("[data-i18n-title]").forEach((node) => {
      node.setAttribute("title", t(node.dataset.i18nTitle));
    });
  }

  function withLang(url) {
    const parsed = new URL(url, window.location.origin);
    parsed.searchParams.set("lang", lang);
    return parsed.pathname + parsed.search;
  }

  function ensureLangInputs() {
    document.querySelectorAll("input.lang-input").forEach((input) => {
      input.value = lang;
    });
  }

  function applyLangLinks() {
    document.querySelectorAll("a[data-lang-link]").forEach((link) => {
      const href = link.getAttribute("href");
      if (!href || href.startsWith("http") || href.startsWith("mailto:")) {
        return;
      }
      link.setAttribute("href", withLang(href));
    });
  }

  function bindLangSwitch() {
    const select = document.getElementById("langSelect");
    if (!select) {
      return;
    }
    select.value = lang;
    select.addEventListener("change", () => {
      const params = new URLSearchParams(window.location.search);
      params.set("lang", select.value);
      window.location.search = params.toString();
    });
  }

  function init() {
    setLang(detectLang());
    apply();
    ensureLangInputs();
    applyLangLinks();
    bindLangSwitch();
  }

  return {
    get lang() {
      return lang;
    },
    t,
    apply,
    withLang,
    init,
  };
})();

document.addEventListener("DOMContentLoaded", () => {
  if (window.I18n) {
    window.I18n.init();
  }
});
